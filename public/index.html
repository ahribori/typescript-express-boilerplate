<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>Hello, Socket.io</title>
    <script type="text/javascript" src="/socket.io/socket.io.js"></script>
    <script>
      // default namespace로 연결하는 소켓
      const socket = io({
        path: '/socket.io',
        // transports: ['websocket'], 웹소켓 강제 업그레이드
      });

      // apple namespace로 연결하는 소켓
      // const socket= io('/apple', {
      //   path: '/socket.io',
      // });

      // 서버에서 온 메세지 콘솔에 출력
      socket.on('message::fromServer', message => {
        console.log('message from server:', message);
      });

      // 서버로 메세지 전송
      function send() {
        const value = document.getElementById('message').value;
        socket.emit('message::fromClient', value);
      }
    </script>
  </head>
  <body>
    <input type="text" id="message" /><button onclick="send()">전송</button>
  </body>
</html>
